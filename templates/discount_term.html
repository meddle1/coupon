<!-- Основной шаблон -->
<script type="text/html" id="coupon-term-template">

	<table class="terms">
		<div class="info">Если выбрано несколько родительских каталогов, при наследовании скидки берутся настройки правила.</div>
		<thead>
			<tr>
				<th class="title">Акция</th>

				<!-- ko if: !$root.catalogs -->
				<th class="inherit">Использовать скидку по умолч.</th>
				<!-- /ko -->

				<!-- ko if: $root.catalogs -->
				<th class="inherit">Использовать данные родительского каталога</th>
				<!-- /ko -->

				<th>Вид скидки</th>
				<th>Размер скидки</th>
				<th>Мин. цена товара</th>
				<th>Макс. цена товара</th>
			</tr>
		</thead>
		<tbody>
			<!-- ko foreach: rules -->
				<tr data-bind="attr: { 'class': 'rule-' + id() }">
					
					<td class="rule-title" data-bind="text: title">
					</td>

					<td class="discount-inherit">
						<input type="checkbox" data-bind="checked: data.i,
						event: {
							change: $root.on_inherit_change.bind( $root, $data )
						}" />
					</td>

					<td class="discount-type">
						<select
				            data-bind="
				            	options: $root.discount_types, 
					            optionsText: function (item) {return item.name; },
					            optionsValue: function (item) {return item.id; },
					            value: data.t,
								enable: !data.i()">
					    </select>
					</td>

					<td class="discount-value">
						<input class="value" data-bind="
							value: data.v,
							enable: !data.i()" />
					</td>				

					<td class="discount-min-price">
						<input class="value" data-bind="
							value: data.min,
							enable: !data.i()" />
					</td>				

					<td class="discount-max-price">
						<input class="value" data-bind="
							value: data.max,
							enable: !data.i()" />
					</td>				
				</tr>
			<!-- /ko -->
		</tbody>
	</table>
</script>